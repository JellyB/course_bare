package com.huatu.tiku.course.test;

import com.alibaba.fastjson.JSONObject;
import com.google.common.collect.Maps;
import com.huatu.common.test.BaseWebTest;
import com.huatu.tiku.course.bean.NetSchoolResponse;
import com.huatu.tiku.course.netschool.api.v6.UserCourseServiceV6;
import com.huatu.tiku.course.util.Crypt3Des;
import com.huatu.tiku.course.util.RequestUtil;
import com.huatu.tiku.course.util.ResponseUtil;
import lombok.extern.slf4j.Slf4j;
import org.junit.Test;
import org.springframework.beans.factory.annotation.Autowired;

import java.util.Map;

/**
 * 描述：
 *
 * @author biguodong
 * Create time 2019-05-27 10:41 AM
 **/
@Slf4j
public class OrderTest extends BaseWebTest {


    @Autowired
    private UserCourseServiceV6 userCourseService;


    /**
     * 保存 1 对 1
     */
    @Test
    public void One2OneTest(){
        String p = "1F53C5CEFE61DA10EF07E3B2B3A534C8FAC6899BF8C46CF4C022FA994C67EC823FFBEC09603719011A304862E807729F7027A25CB5460DD0A95CDA9AF25B9D9FD4720F4EAFE9EE2927304B27B9C49E73791CD3E49B8674D72235FC8F8639145157294881C709047C2CFE58BFE5B324FBAB1EC19842D1256EC88DFDA02DC853D16E77F2A50C409C4A6C53F39C41ED7A398FADBE67283775949D1975FEC4944D028DA1C3FE69CB12651F4C527B8F68174E69A26A6EC1E9D7D784058D3B27AD744F3EC51B2BE8E87DEB22A8CB792C75315DCFB4E4D920EB09954ABC509CF9C540775ED1F92EAC6CDEE5A490BAC6C778C4595686BF7E8730355935199B11EDDF2F7CBED116CBC3689EDAB329D724D646AF59AB1EC19842D1256E4C9D7EB3A33283B1FD82BFF56BC33E03B76BE31189C608EE2ECF61150A6D20FE9AA8C528A1E52C4C0321A818B1EF203EDE5954B05972A54072F169267CE3CC12980DC12E5BA93195292E0DA06642940877514A53162A9245B8F3E94B634AB2BE36C94D3838137E3E81CD07BB50631C72B44085D0D847DFE54D1A542A83EE020C3CD272E1176730999E1FD81E499BE8A73B89ED1DF036B9067C805018EB130DF25E45C3D53A25E85EFF7AF59DFE6F84A2324355FD88F6AACB8106C4B45D6299049F625E22E9C5C111CB6D61EEA9144EB0102E53F4B33731BE2A9A1BE57E427D373A0AA0504B204C0D5481263DBBDB104F9632A7A6B03767F6845DBE4E8E7A9B7E09248678385D903DB2833B27D83BF5C4F49FE8CD85458B0F5E4CEC682AB78493683D33CF57758546B806A8A1E97EB9CEAFFE14E2F191DD39F69B8A1EEA560EEF26115C2385019CF6190529F9FAF0875FCE2A6E0749B36F17BBFB65A5FE6FF53CBB0478819C992FC7D8074612E857C96AFDE455B360CC7F3C7D8DA30E48B0EB989586199527B4E59824A45D383A53B9AA4A612D66C68E32DDAA2B1624BADE37EA6EA0A5B227EA43D68B20FD5B906B27910E83ED6ACFD1C9B1E20B6740757495E5026E1D90DDDD9D86E8E5ABC9FDF338874EBB51DF754DEBCCACB24D22A0E59D047A403FB67F7E5B970421D3E530BFEB000963533898D5EEDA";
        String result = Crypt3Des.decryptMode(p);
        JSONObject jsonObject = JSONObject.parseObject(result);
        log.info(jsonObject.toJSONString());
        Map<String,Object> params = Maps.newHashMap();
        params.putAll(jsonObject);
        log.error("params:{}", params);
        NetSchoolResponse netSchoolResponse = userCourseService.one2One(RequestUtil.encrypt(params));
        log.error("课程 1 对 1 保存返回结果:{}", JSONObject.toJSONString(netSchoolResponse));
    }

    /**
     * 获取欧 1 对 1 结果
     */
    @Test
    public void obtainReportInfo(){
        String p = "B1AD1BE472C295F28106C4B45D6299049F625E22E9C5C111CB6D61EEA9144EB0102E53F4B33731BE894A8AA85249D68FDF3546B5DAABF1477DBC39E41276476E";
        String result = Crypt3Des.decryptMode(p);
        JSONObject jsonObject = JSONObject.parseObject(result);
        Map<String,Object> params = Maps.newHashMap();
        params.putAll(jsonObject);
        NetSchoolResponse netSchoolResponse = userCourseService.obtainOne2One(RequestUtil.encrypt(params));
        log.error("获取 1 对 1 返回结果:{}", JSONObject.toJSONString(netSchoolResponse));

    }


    @Test
    public void OrderTest(){
        NetSchoolResponse netSchoolResponse = new NetSchoolResponse();
        netSchoolResponse.setData("A318B133F795CD455339BB6007EB9D4B158410CF97FE50861F767EE2BA309EF2445712CD4AE952ABF02DF691EB6D8B6B8F462DD323422D244984FF612E5AFCC48BEEA9329834CAC80E654E2404802443B56B7691A5F1D647C26FCD6958DADFCD4E157D160C098A4B9B327A1AC91E5E89DA4042A65EC8FBD1F607E78416F691ED5D9B327750957E19D0E537F35757FEB8351C86B8DFE2F4B19ED2D7EAC9500560CB0C6DD56603BA4A3D07CD67E139779ADEF95001E111DB48F2E11E34D684C99A33F927FC180568A7D9EAE2458A82789617947480B0912F07C12CF5BA02C69DA6F3D63F57B7836B016A1929FB003D45198542F8B72EBB7F4E81F0657EDE2275C88F9F9911550AA56E1FA4ED91B068957B3196111655B9BB14E568D33E1EF68D708C81FBC3CB2974FCE5B024689C8031FDCE793B0C1AFC7B916645968635B7E1323958BB6B422C1726EC61B5C80082DF34B59EC7C85AC479A0009014D42E351BB8402B6A1159003E4AA4B66C580E42B2C9DAED4C4BB66ADDFB6F5610ADDBB4C6B8C192AD109A30D0F9AF25E1A747BFA36DA328DCB125023449131F518FD1B8BE0EE165ED63C093A1CB38E76FB69B2E28CB3553D24D01A18A3EE71B9D1941D2AB5593CE11BEB3296396DE508613712BCF7AD6EEC2F17864DAC9DC3CA1AC7A5667F0F0DB14944BEC68E8874C52B2EF82CA8CC9E290AC7C1B237E25D333DF17E3C22BCAAFBCE765DCD15B5100AB19D92A4424930247244C796E6BAF3A1070ED6C1D53E6C53C1439A935DE6F80BEEA1D72CCCC1031B9C108C8AA1C207079DF9F2E2BB2C1243867CF20EB49171FF073C0D3A4C30B6418A58CA7E8827BC86C325B6539CED53A0996E182CA8C0AEE140F545566D43D7B0FD03B8C5D2E5469E66575C825B59B06789116B7F423D2AA121297301B7EEE12FDC0CD72E48532C6115738FDDBA75FEE9C1B5F921381");
        netSchoolResponse.setCode(1);
        netSchoolResponse.setMsg("查询成功！");
        Object  result = ResponseUtil.build(netSchoolResponse, true);
        log.error("-->>>>>>>>>:{}", JSONObject.toJSONString(result));
    }
}
